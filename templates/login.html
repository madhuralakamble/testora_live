<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login - Testora</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Background gradient waves */
    body {
      background: radial-gradient(circle at top left, #3b82f6, #9333ea, #111);
      background-size: 300% 300%;
      animation: bgWave 15s ease infinite;
    }
    @keyframes bgWave {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    .gradient-hover {
      background-image: linear-gradient(90deg, rgb(90, 21, 146), #9333ea, #6a2abd);
      background-size: 200% auto;
      transition: background-position 0.5s, color 0.5s;
    }
    .gradient-hover:hover {
      background-position: right center;
      color: white;
    }

    header {
      background: white;
      box-shadow: 0 3px 12px rgba(184,16,250,0.473);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .header-container {
      max-width: 1500px;
      margin: 0 auto;
      padding: 14px 36px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .logo img {
      height: 75px;
      width: auto;
    }
    .logo span {
      font-family: 'Poppins', sans-serif;
      font-size: 2.5rem;
      font-weight: 700;
      color: #5f0494;
    }
    nav a {
      font-weight: 600;
      font-size: 1rem;
      color: white;
      padding: 8px 14px;
      border-radius: 6px;
      position: relative;
      transition: all 0.3s ease;
    }
    nav a::after {
      content: '';
      position: absolute;
      bottom: 2px;
      left: 50%;
      width: 0%;
      height: 2px;
      background: #6c3dc7;
      transition: 0.3s ease;
      transform: translateX(-50%);
    }
    nav a:hover::after {
      width: 60%;
    }

    /* Footer */
    footer {
      max-width: 960px;
      margin: 100px auto 40px auto;
      text-align: center;
      color: #a39dc0;
      font-size: 0.95rem;
      position: relative;
      z-index: 5;
    }
    .footer-social {
      margin-top: 20px;
      font-size: 2rem;
    }
    .footer-social a {
      margin: 0 14px;
      color: #6b3cc6;
      transition: color 0.3s ease, transform 0.3s ease;
    }
   

    /* Floating circles animation */
    @keyframes floatSlow {
      0%   { transform: translateY(0) scale(1); opacity: 0.18; }
      50%  { transform: translateY(-80px) scale(1.13); opacity: 0.32;}
      100% { transform: translateY(0) scale(1); opacity: 0.18;}
    }
    @keyframes floatSlower {
      0%   { transform: translateY(0) scale(1); opacity: 0.13; }
      50%  { transform: translateY(-110px) scale(1.19); opacity: 0.35;}
      100% { transform: translateY(0) scale(1); opacity: 0.13;}
    }
    @keyframes floatSlowest {
      0%   { transform: translateY(0) scale(1); opacity: 0.13; }
      50%  { transform: translateY(-180px) scale(1.28); opacity: 0.39;}
      100% { transform: translateY(0) scale(1); opacity: 0.13;}
    }
    .float-slow    { animation: floatSlow 9s ease-in-out infinite; }
    .float-slower  { animation: floatSlower 13s ease-in-out infinite;}
    .float-slowest { animation: floatSlowest 18s ease-in-out infinite;}

    /* Login form styles */
    .login-main label {
      display: block;
      margin-top: 15px;
      font-weight: 600;
      color: #5f0494;
    }
    .login-main input {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
      color:#111;
    }
    .login-main button {
      margin-top: 28px;
      padding: 0.8rem 1rem;
      background: linear-gradient(90deg, #6c3c96, #a97fff);
      color: white;
      border: none;
      border-radius: 9999px;
      font-weight: 700;
      font-size: 1.1rem;
      box-shadow: 0 0 0.8rem #8849d1cc;
      cursor: pointer;
      transition: all 0.3s ease;
      display: block;
      width: 100%;
      animation: pulse 3s infinite;
    }
    .login-main button:hover {
      background: linear-gradient(90deg, #6f1e9e, #7e49af);
      transform: scale(1.08);
    }
    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 1rem #a97fff88; }
      50% { box-shadow: 0 0 2rem #a97fffcc; }
    }
    .login-main .message {
      margin-top: 16px;
      font-weight: 600;
      min-height: 22px;
    }
    .input-container {
      position: relative;
      width: 100%;
    }
    .toggle-password {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      user-select: none;
      font-size: 28px;
      color: #888;
      transition: color 0.3s;
      z-index: 2;
    }
    .hidden {
  display: none;
}
.toggle-password svg {
  transition: transform 0.25s ease, stroke 0.25s ease;
  cursor: pointer;
  stroke: #888;
}
.toggle-password svg.active {
  stroke: #6c3dc7;
  transform: scale(1.15) rotate(5deg);
}
  </style>
</head>
<body>
  <!-- Floating Circles Background -->
  <div class="fixed rounded-full bg-white float-slow opacity-15" style="width:90px;height:90px;top:9vh;left:10vw;"></div>
  <div class="fixed rounded-full bg-white float-slow opacity-10" style="width:120px;height:120px;top:4vh;left:82vw;"></div>
  <div class="fixed rounded-full bg-white float-slower opacity-20" style="width:70px;height:70px;top:51vh;left:22vw;"></div>
  <div class="fixed rounded-full bg-white float-slowest opacity-12" style="width:200px;height:200px;top:66vh;left:68vw;"></div>
  <div class="fixed rounded-full bg-white float-slow opacity-10" style="width:65px;height:65px;top:19vh;left:59vw;"></div>
  <div class="fixed rounded-full bg-purple-200 float-slower opacity-10" style="width:110px;height:110px;top:80vh;left:13vw;"></div>

  <!-- Navbar -->
  <header>
    <div class="header-container">
      <div class="logo">
        <img src="{{ url_for('static', filename='logo.png') }}" alt="Testora Logo"
          class="mx-auto rounded-full shadow-lg" />
        <span>Testora</span>
      </div>
      <nav>
        <a href="/" class="gradient-hover">Home</a>
        <a href="/register" class="gradient-hover">Register</a>
        <a href="/login-page" class="gradient-hover">Login</a>
        <a href="#contact" class="gradient-hover">Contact</a>
      </nav>
    </div>
  </header>

  <!-- MAIN LOGIN FORM -->
  <main class="login-main container bg-white rounded-xl shadow-xl p-10 max-w-lg mx-auto mt-28 text-gray-900">
    <h2 class="text-2xl font-bold mb-6 text-center">Login</h2>
    <form id="login-form">
      <label>Email
        <input type="email" name="email" required />
      </label>
      <label>Password
        <div class="input-container">
          <input type="password" name="password" id="password" required />
          <div class="toggle-password" id="togglePassword" style="cursor:pointer; position: absolute; right: 12px; top: 50%; transform: translateY(-50%);">
  <!-- Eye (visible) -->
  <svg xmlns="http://www.w3.org/2000/svg" class="eye-icon active" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="22" height="22" >
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
      d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
  </svg>
  <!-- Eye Slash (hidden), initially hidden -->
  <svg xmlns="http://www.w3.org/2000/svg" class="eye-slash-icon hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="22" height="22">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
      d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a10.06 10.06 0 012.223-3.463M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
      d="M3 3l18 18" />
  </svg>
</div>
        </div>
      </label>
      <button type="submit">Login</button>
    </form>
    <p class="mt-6 text-center text-sm">Don't have an account? <a href="/register" class="text-purple-600 hover:underline">Register here</a></p>
    <p class="mt-1 text-center text-sm">Forgot Password? <a href="/reset_password.html" class="text-purple-600 hover:underline">Reset your password</a></p>
    <div class="message text-center" id="message"></div>
  </main>

  <!-- Footer -->
  <footer id="contact" class="py-8 px-8 text-center bg-black/30 backdrop-blur-md">
    <p class="mb-4">&copy; 2025 Testora. All rights reserved.</p>
    <div class="flex justify-center space-x-8 mt-4 footer-social">
      <!-- Facebook -->
      <a href="https://facebook.com" target="_blank" class="hover:text-blue-500 transition" aria-label="Facebook">
        <svg fill="currentColor" viewBox="0 0 24 24" class="w-7 h-7">
          <path d="M22 12.07C22 6.49 17.52 2 12 2S2 6.49 2 12.07c0 5.02 3.66 9.18 8.44 9.93v-7.03H7.89v-2.9h2.55v-2.21c0-2.52 1.5-3.9 3.8-3.9 1.1 0 2.25.2 2.25.2v2.46h-1.27c-1.25 0-1.67.78-1.67 1.57v1.87h2.83l-.45 2.9h-2.38v7.03C18.34 21.25 22 17.09 22 12.07z"/>
        </svg>
      </a>
      <!-- Instagram -->
      <a href="https://instagram.com" target="_blank" class="hover:text-pink-500 transition" aria-label="Instagram">
        <svg fill="currentColor" viewBox="0 0 24 24" class="w-7 h-7">
          <path d="M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5h-8.5zm4.25 2.7a5.05 5.05 0 1 1 0 10.1 5.05 5.05 0 0 1 0-10.1zm0 1.5a3.55 3.55 0 1 0 0 7.1 3.55 3.55 0 0 0 0-7.1zm5.1.6a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
        </svg>
      </a>
      <!-- LinkedIn -->
      <a href="https://linkedin.com" target="_blank" class="hover:text-blue-700 transition" aria-label="LinkedIn">
        <svg fill="currentColor" viewBox="0 0 24 24" class="w-7 h-7">
          <path d="M19 0h-14a5 5 0 0 0-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11.07 20h-2.87V9h2.87v11zm-1.43-12.26c-.92 0-1.66-.75-1.66-1.66 0-.92.75-1.66 1.66-1.66.92 0 1.66.75 1.66 1.66 0 .91-.75 1.66-1.66 1.66zm14.57 12.26h-2.87v-5.5c0-1.31-.02-3-1.87-3-1.87 0-2.16 1.46-2.16 2.89v5.61h-2.87V9h2.76v1.5h.04c.39-.75 1.39-1.55 2.88-1.55 3.08 0 3.65 2.03 3.65 4.67v6.38z"/>
        </svg>
      </a>
    </div>
  </footer>

  <!-- Login JS logic -->
  <script>
    const form = document.getElementById('login-form');
    const messageDiv = document.getElementById('message');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      messageDiv.textContent = '';
      messageDiv.style.color = '';
      const formData = {
        email: form.email.value,
        password: form.password.value
      };
      try {
        const response = await fetch('http://127.0.0.1:5000/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData),
        });
        const data = await response.json();
         if (data.error) { // Show backend error messages (like incorrect password) in red
           alert(data.error);
        } else if (data.message) {
             alert(data.message); // Show success message
      if (data.redirect) {
        setTimeout(() => {
          window.location.href = data.redirect; // Redirect after showing message
          }, 1500);
        }
      }
    } catch (error) {
      messageDiv.style.color = 'red';
      messageDiv.textContent = 'Network error. Please try again.';
    }
  });
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');
    
    function setupToggle(inputId, toggleId) {
  const input = document.getElementById(inputId);
  const toggle = document.getElementById(toggleId);
  const eyeIcon = toggle.querySelector('.eye-icon');
  const eyeSlashIcon = toggle.querySelector('.eye-slash-icon');

toggle.addEventListener('click', () => {
  if (input.type === 'password') {
    input.type = 'text';
    eyeIcon.classList.add('hidden');
    eyeSlashIcon.classList.remove('hidden');
    eyeSlashIcon.classList.add('active');
  } else {
    input.type = 'password';
    eyeIcon.classList.remove('hidden');
    eyeIcon.classList.add('active');
    eyeSlashIcon.classList.add('hidden');
    eyeSlashIcon.classList.remove('active');
  }
});
}

    setupToggle('password', 'togglePassword');

  </script>
</body>
</html>
